<nb-chat [title]="title">
    <div *ngFor="let message of messages">
        <div  
            *ngIf="
                message.senderId !== currId;
                then incoming_msg;
                else outgoing_msg
        "></div>
        <ng-template #incoming_msg>
            <nb-chat-message 
                   [message]="message.translatedText"
                   [reply]="'true'"
                   [date]="message.timestamp" >
            </nb-chat-message>
        </ng-template>
        <ng-template #outgoing_msg>
                <nb-chat-message *ngFor="let message of messages"
                    [message]="message.text"
                    [reply]="'false'"
                    [date]="message.timestamp" >
                </nb-chat-message>
        </ng-template>
    </div>
    
  <nb-chat-form (send)="sendMessage($event)"></nb-chat-form>
</nb-chat>